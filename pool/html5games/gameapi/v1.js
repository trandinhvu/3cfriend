!function(e,t){const n={version:"1.1.0",settings:null,isSDKInterfaceDone:!1,AD_STATES:{OFF:0,IDLE:1,PRELOADING:2,READY:3,PLAYING:4,CLOSED:5},init:function(e){this.settings=e||{},this.getDebugLevel(),this.getDebugLevel(),this.settings.isProd&&(this.settings.forceMockObject=!1),this.settings.interstitial.state=null,this.settings.interstitial.last=null,this.settings.rewarded.state=null,this.settings.rewarded.last=null;let t=[];for(let e=0;e<this.settings.externalFiles.length;e++)t.push(this.settings.externalFiles[e]);let n=this;this.loadFiles(t).then((function(){}),(function(){})).finally((function(){n.setFamobiAdapters(),["interstitial"].forEach((function(e){n.settings[e].enabled&&(n.setAdState(e,n.AD_STATES.IDLE),n.settings[e].preload>0&&setInterval((function(){n.settings[e].enabled&&n.preload(e)}),n.settings[e].preload))})),(n.settings.forceMockObject?SDK_INTERFACE_MOCK_OBJECT():Promise.resolve()).then((function(){n.getDebugLevel()}),(function(){n.getDebugLevel()})).finally((function(){SDK_INTERFACE_INIT().then((function(){n.getDebugLevel()}),(function(){n.getDebugLevel()})).finally((function(){n.done()}))}))}))},loadFile:function(e){let t=this;return new Promise((function(n,i){const a=document.createElement("script");let o=!1;a.type="text/javascript",a.src=e,a.async=!1,a.onerror=function(e){t.getDebugLevel(),i(e,a)},a.onload=a.onreadystatechange=function(){o||this.readyState&&"complete"!=this.readyState||(o=!0,t.getDebugLevel(),n())};const s=document.getElementsByTagName("script")[0];s.parentElement.insertBefore(a,s)}))},loadFiles:function(e){let t,n;return e=e||[],new Promise(((i,a)=>{Array.isArray(e)?(e.push((()=>{i()})),e.reduce(((e,i)=>e.then((()=>new Promise(((e,a)=>{let o=document.createElement("script");if("function"==typeof i)SDK_INTERFACE_SETTINGS.debugLevel,i(),e();else switch(SDK_INTERFACE_SETTINGS.debugLevel,i.split(".").pop()){case"js":o.src=i,document.body.appendChild(o),o.onload=()=>{e()},o.onerror=()=>{e()};break;case"css":t=document.getElementsByTagName("head")[0],n=document.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=i,t.appendChild(n),e();break;default:o.src=i,document.body.appendChild(o),o.onload=()=>{e()},o.onerror=()=>{e()}}}))))),Promise.resolve())):a()}))},_showAd:function(e,t,n){let i="interstitial";this.getDebugLevel();const a=function(){"function"==typeof e&&e()};if(this.getAdState(i)!==this.AD_STATES.READY)return this.getDebugLevel(),void a();if(!this.hasCooledDown())return this.getDebugLevel(),void a();this.setAdState(i,this.AD_STATES.PLAYING),!0!==n&&this.pauseGame();let o=this;setTimeout((function(){o.getDebugLevel(),SDK_INTERFACE_SHOW_AD(t,n).then((function(){o.getDebugLevel(),!0!==n&&(o.settings[i].last=new Date)}),(function(e){o.getDebugLevel()})).finally((function(){o.setAdState(i,o.AD_STATES.CLOSED),setTimeout((function(){o.setAdState(i,o.AD_STATES.IDLE)}),500),setTimeout((function(){o.resumeGame(),a()}),o.settings[i].timeout)}))}),o.settings[i].timeout)},_rewardedAd:function(e){let t={rewardGranted:this.settings.rewarded.reward,adDidLoad:!0,adDidShow:!0},n="rewarded";this.getDebugLevel();const i=function(){"function"==typeof e&&e(t)};if(this.getAdState(n)!==this.AD_STATES.READY)return this.getDebugLevel(),void i();if(!this.hasCooledDown(n))return this.getDebugLevel(),void i();this.setAdState(n,this.AD_STATES.PLAYING),this.pauseGame();let a=this;setTimeout((function(){a.getDebugLevel(),SDK_INTERFACE_REWARDED_AD().then((function(e){a.settings[n].last=new Date,a.getDebugLevel(),t.rewardGranted=e}),(function(e){a.getDebugLevel()})).finally((function(){a.setAdState(n,a.AD_STATES.CLOSED),setTimeout((function(){a.setAdState(n,a.AD_STATES.IDLE)}),500),setTimeout((function(){a.resumeGame(),i()}),a.settings[n].timeout)}))}),a.settings[n].timeout)},_hasRewardedAd:function(){return this.settings.rewarded.state===this.AD_STATES.READY&&this.hasCooledDown("rewarded")},pauseGame:function(){this.getDebugLevel(),window.famobi.game.pause()},resumeGame:function(){window.famobi.game.canResume()?(this.getDebugLevel(),window.famobi.game.resume()):this.getDebugLevel()},preload:function(e){if(e=e||"interstitial",this.settings[e].state!==this.AD_STATES.IDLE)return;if(this.settings[e].fails=this.settings[e].fails||0,this.settings[e].attempts=this.settings[e].attempts||0,this.settings[e].attempts>0&&this.settings[e].fails>=this.settings[e].attempts)return;this.setAdState(e,this.AD_STATES.PRELOADING);let t=this;SDK_INTERFACE_PRELOAD_AD(e).then((function(){t.settings[e].fails=0,t.getDebugLevel(),t.setAdState(e,t.AD_STATES.READY)}),(function(){t.settings[e].fails++,t.getDebugLevel(),t.setAdState(e,t.AD_STATES.CLOSED),setTimeout((function(){t.setAdState(e,t.AD_STATES.IDLE)}),t.settings[e].retry)}))},setFamobiAdapters:function(){let e=this;window.famobi_adapters={api:{created:function(){e.overwrite(),window.famobi.adapters.add("viewport","offsetChanged",(e=>{"function"==typeof window.famobi.onOffsetChangeCallback&&window.famobi.onOffsetChangeCallback(e)})),window.famobi.hasFeature("rewarded")&&["rewarded"].forEach((function(t){e.settings[t].enabled&&(e.setAdState(t,e.AD_STATES.IDLE),e.settings[t].preload>0&&setInterval((function(){e.preload(t)}),e.settings[t].preload))}))}}}},getDebugLevel:function(){return this.settings.debugLevel},setAdState:function(e,t){this.getDebugLevel(),this.settings[e].state=t},getAdState:function(e){return e=e||"interstitial",this.settings[e].state},hasCooledDown:function(e){if(e=e||"interstitial",!(this.settings[e].last&&this.settings[e].cooldown>=0))return!0;const t=this.settings[e].cooldown;return Math.round((Date.now()-this.settings[e].last)/1e3)>=t||(this.getDebugLevel(),!1)},overwrite:function(){let e=this;void 0!==window.famobi&&(Object.keys(SDK_INTERFACE_OVERRIDES.famobi).forEach((function(t){["showAd","rewardedAd","hasRewardedAd"].includes(t)?e.getDebugLevel():(e.getDebugLevel(),window.famobi[t]=SDK_INTERFACE_OVERRIDES.famobi[t])})),window.famobi.showAd=n._showAd.bind(n),window.famobi.rewardedAd=n._rewardedAd.bind(n),window.famobi.hasRewardedAd=n._hasRewardedAd.bind(n));let t=setInterval((function(){void 0!==window.famobi_analytics&&(clearInterval(t),Object.keys(SDK_INTERFACE_OVERRIDES.famobi_analytics).forEach((function(t){e.getDebugLevel(),window.famobi_analytics[t]=SDK_INTERFACE_OVERRIDES.famobi_analytics[t]})))}),500)},done:function(){this.isSDKInterfaceDone=!0}};t.SDK_INTERFACE=n}(0,window);const loadScript=function(e){return new Promise((function(t,n){const i=document.createElement("script");let a=!1;i.type="text/javascript",i.src=e,i.async=!0,i.onerror=function(e){n(e,i)},i.onload=i.onreadystatechange=function(){a||this.readyState&&"complete"!=this.readyState||(a=!0,t())};const o=document.getElementsByTagName("script")[0];o.parentElement.insertBefore(i,o)}))};if(window.famobi_tracking=window.famobi_tracking||{init:function(){},trackEvent:function(){},EVENTS:{LEVEL_START:"event/level/start",LEVEL_END:"event/level/end",LEVEL_UPDATE:"event/level/update",PING:"event/ping",AD:"event/ad"}},"undefined"!=typeof window&&!window.famobi){!function(e,t){var n={onOffsetChangeCallback:null,offsets:{top:0,right:0,bottom:0,left:0},orientationChangeCallback:null,brandingLogo:null,config:null,reached_home:!1,splashComplete:!1,volume:1,init:function(){return new Promise(function(e,t){var n,i,a;this.config||(n="famobi.json",i=function(t){var n=JSON.parse(t);if((n=n.offlinizer||n).game_i18n=n.game_i18n||{},this.config=n,"undefined"!=typeof SDK_INTERFACE_SETTINGS&&(this.config.ads={},"interstitial"in SDK_INTERFACE_SETTINGS&&(this.config.ads.show_initial=!!SDK_INTERFACE_SETTINGS.interstitial.enabled&&!!SDK_INTERFACE_SETTINGS.interstitial.initial),"features"in SDK_INTERFACE_SETTINGS)){let e=Object.keys(SDK_INTERFACE_SETTINGS.features);for(let t=0;t<e.length;t++)this.config.features[e[t]]=SDK_INTERFACE_SETTINGS.features[e[t]]}SDK_INTERFACE_SETTINGS.disable_console&&(window.console={log:function(){},warn:function(){},info:function(){},error:function(){},debug:function(){}}),this.log("init..."),this.game.init(),this.includeCSS("html5games/gameapi/v1/play.css");for(var i=0;this.config.includeCSS&&i<this.config.includeCSS.length;i++)this.includeCSS(this.config.includeCSS[i]);for(window.gameJS&&window.gameJS.length&&"string"==typeof window.gameJS[window.gameJS.length-1]&&window.gameJS.push((function(){})),window.gameJS.unshift("html5games/gameapi/fenster.js"),window.gameJS.unshift("html5games/gameapi/famobi_analytics_v1.js"),window.gameJS.unshift("html5games/gameapi/detection.js"),window.gameJS.unshift("html5games/gameapi/zepto.min.js"),i=0;this.config.includeJS&&i<this.config.includeJS.length;i++)window.gameJS.unshift(this.config.includeJS[i]);window.addEventListener("orientationchange",function(){"function"==typeof this.orientationChangeCallback&&this.orientationChangeCallback()}.bind(this),!1),this.getUrlParams().fg_aid,window.famobi_multiplayer=this.config.features.multiplayer||!1,this.config.gameParams=this.config.gameParams||{},window.addEventListener("famobi_tracking_screen",(function(e){this.config.autoShowMenuScreens&&this.config.autoShowMenuScreens.includes(e.detail.screen)&&(this.reached_home=!0,setTimeout((function(){this.splashComplete&&window.famobi.menu.show()}),1e3))})),SDK_INTERFACE_SETTINGS&&SDK_INTERFACE_SETTINGS.show_splash&&(SDK_INTERFACE_SETTINGS.splash_duration=SDK_INTERFACE_SETTINGS.splash_duration||-1,this.showSplashScreen((function(){this.splashComplete=!0,this.reached_home&&window.famobi.menu.show()}),SDK_INTERFACE_SETTINGS.splash_duration<0)),this.ads.init(),this.adapters.add("analytics","trackStats",(function(e,t){window.famobi.config.logging})),this.adapters.add("analytics","trackEvent",(function(e,t){"EVENT_LIVESCORE"!=e&&window.famobi.config.logging})),this.adapters.add("analytics","trackScreen",(function(e,t){window.famobi.config.logging})),e("running-jack"!==window.gameID)}.bind(this),(a=new XMLHttpRequest).overrideMimeType("application/json"),a.open("GET",n,!0),a.onreadystatechange=function(){4===a.readyState&&"200"==a.status&&i(a.responseText)},a.send(null))}.bind(this))},showInterstitialAd:function(e,t){let n={};return"object"==typeof e?n=e:(n.callback="function"==typeof e?e:"function"==typeof t?t:void 0,n.eventId="string"==typeof e?e:"string"==typeof t?t:void 0),"function"==typeof n.callback&&n.callback(),Promise.resolve()},forceAd:function(e){this.showAd(e,!0)},rewardedAd:function(e){return this.hasFeature("rewarded")&&this.hasRewardedAd()?void this.rewardedads.show().then((function(t){"function"==typeof e&&e(t)})):(this.log("rewarded ads: not supported"),void("function"==typeof e&&e(this.rewardedads.defaultReturnValue)))},showAd:function(e,t){return this.config.ads.off?(this.log("ads: off"),void("function"==typeof e&&e())):!0===t||this.ads.hasCooledDown()?(this.ads.adcount++,this.ads.lastAdCall=Date.now(),this.game.pause(),this.log("showing ad..."),void this.ads.show(this.ads.show_initial&&1==this.ads.adcount).then(function(){this.log("ad finished"),"function"==typeof e&&e(),setTimeout(function(){this.game.resume()}.bind(this),100)}.bind(this))):(this.log("skipping ad..."),void("function"==typeof e&&e()))},rewardedads:{lastAdCall:Date.now(),adcount:0,defaultReturnValue:{adType:"rewarded",adDidLoad:!1,adDidShow:!1,adCount:0,rewardGranted:!1},init:function(){window.famobi},hasCooledDown:function(){return!0},show:function(){var e=window.famobi;return new Promise((function(t,n){setTimeout((function(){t({adType:"rewarded",adDidLoad:!0,adDidShow:!0,adCount:e.rewardedads.adcount,rewardGranted:!0})}),0)}))}},ads:{lastAdCall:Date.now(),adcount:0,off:!0,show_initial:!1,min_s_before:10,min_s_between:90,init:function(){var e=window.famobi;e.config.ads=e.config.ads||{},this.lastAdCall=Date.now(),this.off=!1!==e.config.ads.off,this.show_initial=e.config.ads.show_initial||!1,this.min_s_before=e.config.ads.min_s_before||10,this.min_s_between=e.config.ads.min_s_between||90},hasCooledDown:function(){var e=0===this.adcount&&+this.min_s_before>0?+this.min_s_before:+this.min_s_between;return Date.now()-1e3*e>this.lastAdCall},show:function(e){var t=window.famobi;return e&&t.log("initial ad"),new Promise((function(e,t){setTimeout((function(){e()}),0)}))}},gametranslation:{init:function(){window.famobi.gametranslation.curLangString=window.famobi.gametranslation.getUserLang(),-1===window.famobi.gametranslation.getSupportedLanguages().indexOf(window.famobi.gametranslation.curLangString)&&(window.famobi.gametranslation.curLangString="en"),window.famobi.gametranslation.translationData=window.famobi.gametranslation.getGameTranslations(),window.famobi.gametranslation.translateHtml(faZepto("body"))},getSupportedLanguages:function(){return window.famobi.config.languages||Object.keys(window.famobi.config.game_i18n)||[]},getGameTranslations:function(){var e=window.famobi.config.game_i18n,t=window.famobi.gametranslation.curLangString;return e.current?e.current:(faZepto.each(e,(function(t,n){faZepto.each(n,(function(n,i){null==i?e[t][n]="":"string"==typeof e[t][n]&&(e[t][n]=i.replace(/\{lang\}/g,t))}))})),e.current=faZepto.extend({},e.default,e[window.famobi.config.aid+".default"],e[t],e[window.famobi.config.aid+"."+t]),window.famobi.config.game_i18n.current=e.current)},translateString:function(e){return window.famobi.gametranslation.translationData.hasOwnProperty(e)?window.famobi.gametranslation.translationData[e]:null},getNavigatorLocale:function(){var e="";return navigator.languages&&window.famobi.sizeOf(navigator.languages)?e=navigator.languages[0]:navigator.language?e=navigator.language:navigator.userLanguage?e=navigator.userLanguage:navigator.browserLanguage&&(e=navigator.browserLanguage),e},getNavigatorLanguage:function(){return window.famobi.gametranslation.getNavigatorLocale().substr(0,2)},getUserLang:function(){var e=window.famobi.getUrlParams(),t=window.famobi.gametranslation.getNavigatorLanguage();if(e.locale&&2==e.locale.length)return e.locale;switch(t){case"ch":case"at":return"de";default:return t}},translateHtml:function(e){return e.find("[data-i18n]").each((function(){var e=this.getAttribute("data-i18n");this.innerHTML=window.famobi.gametranslation.translateString(e)})),e}},__:function(e){switch(e){case"test_preload_image":return"html5games/images/testPreloadImage.png";case"preload_image":return"html5games/images/"+(this.config.preload_image||"preloadImage")+".png";case"more_games_image":return this.getBrandingButtonImage();default:}var t=this.getCurrentLanguage();if(this.config.game_i18n){if(this.config.game_i18n[t]&&(this.config.game_i18n[t]=Object.assign(this.config.game_i18n[t],this.config.game_i18n[this.config.aid+"."+t])),this.config.game_i18n[t]&&this.config.game_i18n[t][e])return"string"==typeof this.config.game_i18n[t][e]?this.config.game_i18n[t][e].replace("{lang}",t):this.config.game_i18n[t][e];if(this.config.game_i18n.default&&(this.config.game_i18n.default=Object.assign(this.config.game_i18n.default,this.config.game_i18n[this.config.aid+".default"])),this.config.game_i18n.default&&this.config.game_i18n.default[e])return"string"==typeof this.config.game_i18n.default[e]?this.config.game_i18n.default[e].replace("{lang}",t):this.config.game_i18n.default[e]}return this.warn("No translation found for '"+e+"'"),null},getCurrentLanguage:function(){let e="",t="";try{e=new URL(window.location.href).searchParams.get("locale")}catch(e){}try{t=new URL(window.location.href).searchParams.get("lang")}catch(e){}return t||e||(navigator.language||navigator.userLanguage).substr(0,2)},showSplashScreen:function(e,t,n){if(document.getElementById("famobi_splash")){if(splashScreen.style.display="block",splashScreen.style.animation=splashScreen._orgAni,n)return;t?(window.removeEventListener(t,(()=>this.hideSplashScreen(e))),window.addEventListener(t,(()=>this.hideSplashScreen(e)))):setTimeout((()=>this.hideSplashScreen(e)),SDK_INTERFACE_SETTINGS.splash_duration)}else{i="html5games/splash/splash.html",a=i=>{this.includeCSS("html5games/splash/splash.css");let a=document.createElement("div");a.classList.add("splash-screen"),a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.innerHTML=i,this.config.preload_image&&(a.querySelector(".logo").src="html5games/images/"+this.config.preload_image+".png"),document.body.appendChild(a),this.splashScreen=a,n||(t?window.addEventListener(t,(()=>this.hideSplashScreen(e))):setTimeout((()=>this.hideSplashScreen(e)),SDK_INTERFACE_SETTINGS.splash_duration))},(o=new XMLHttpRequest).overrideMimeType("application/xhtml+xml"),o.open("GET",i,!0),o.onreadystatechange=function(){4===o.readyState&&"200"==o.status&&a(o.responseText)},o.send(null)}var i,a,o},hideSplashScreen:function(e){this.splashScreen.style.display="none",this.splashScreen._orgAni||(this.splashScreen._orgAni=this.splashScreen.style.animation),this.splashScreen.style.animation="none",e&&e(this.splashScreen)},getAbsolutePath:function(e){var t=document.location.protocol+"//"+document.location.pathname;return"file:"!==document.location.protocol?e:(e.startsWith("/")&&(e=e.substr(1)),t.substr(0,t.lastIndexOf("/")+1)+e)},menu:{create:function(){window.famobi.menu=this,window.famobi.menu.rootElement=document.getElementById("fg-root"),window.famobi.menu.bodyElement=document.getElementsByTagName("body")[0],window.famobi.menu.headElement=document.getElementsByTagName("head")[0],window.famobi.menu.rootElement||(window.famobi.menu.rootElement=document.createElement("div"),window.famobi.menu.rootElement.setAttribute("id","fg-root"),window.famobi.menu.rootElement.classList.add("fg_root"),window.famobi.menu.rootElement.style="color: #999;font-weight:normal;",document.body.insertBefore(window.famobi.menu.rootElement,document.body.firstChild)),window.famobi.menu.fgOverlay=document.createElement("div"),window.famobi.menu.fgOverlay.setAttribute("id","fg-overlay"),window.famobi.config.overlay_position&&(window.famobi.menu.fgOverlay.className="overlay-"+window.famobi.config.overlay_position+" clip-"+window.famobi.config.overlay_position),window.famobi.config.overlay_distance&&""!==window.famobi.config.overlay_distance&&(window.famobi.config.overlay_position&&"bottom"==window.famobi.config.overlay_position?window.famobi.menu.fgOverlay.style.bottom=isNaN(window.famobi.config.overlay_distance)?window.famobi.config.overlay_distance:window.famobi.config.overlay_distance+"px":window.famobi.menu.fgOverlay.style.top=isNaN(window.famobi.config.overlay_distance)?window.famobi.config.overlay_distance:window.famobi.config.overlay_distance+"px"),window.famobi.menu.rootElement.appendChild(window.famobi.menu.fgOverlay),window.famobi.menu.fgOverlay.innerHTML='<header id="fg-header"><div class="fg-clip" id="fg-clip"><div class="fg-clip-btn"><span></span></div></div></header>',window.famobi.menu.fgNavigation=document.createElement("nav"),window.famobi.menu.fgNavigation.style.position="relative",window.famobi.menu.fgNavigation.setAttribute("id","fg-navigation"),window.famobi.menu.fgOverlay.appendChild(window.famobi.menu.fgNavigation),window.famobi.menu.fgOverlay_visible=!1,window.famobi.menu.fgHeader=document.getElementById("fg-header"),faZepto("#fg-clip, #fg-logo").each((function(){window.famobi.menu.handleClick(this,window.famobi.menu.toggleOverlay)}));let e=window.famobi.getCurrentLanguage(),t="";if(window.famobi.config.supportedLanguages&&window.famobi.config.supportedLanguages.length>1){t='<ul class="fg-langs">';let n="";for(let i=0;i<window.famobi.config.supportedLanguages.length;i++)n=window.famobi.config.supportedLanguages[i],t+=`<li class="${n==e?"fg-lang fg-lang-selected":"fg-lang"}" data-switch-lang="${n}" style="cursor: pointer;">\n                                <a href="javascript:void(0);">\n                                  <img class="fg-flag" src="html5games/images/flags/flag_${n}.png" alt="${n}">\n                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 841.9 459" xml:space="preserve">\n                                      <path d="M630.7,227.3"></path>\n                                      <path d="M21.5,17.9c-3.9,0-7.4,2.3-8.9,6c-1.6,3.7-0.6,7.8,2.1,10.5l399.7,399.7c1.9,1.9,4.5,2.9,6.8,2.9c2.3,0,5.1-1,6.8-2.9 L827.4,34.7c2.7-2.5,3.7-6.8,2.1-10.7c-1.6-3.7-5.1-6-8.9-6H21.5z"></path>\n                                    </svg>\n                                  </a>\n                                </li>`;t+="</ul>"}var n=`${window.famobi.hasFeature("highscores")?'<ul class="fa-menu-buttons">\n                          <li data-famobi-href="leaderboard">\n                            <a href="javascript:void(0);" class="fa-menu-button-leaderboard">\n                              <img src="html5games/images/leaderboard2.svg" alt="leaderboard">\n                            </a>\n                          </li>\n                         </ul>':""}\n                        <ul class="fg-related-games">\n                          <li>\n                            <a href="${window.famobi.config.branding_url||window.famobi.config.more_games_url}" target="_blank">\n                              <img src="html5games/images/icon.svg" alt="${window.famobi.config.name}">\n                            </a>\n                          </li>\n                        </ul>\n                        ${t}`;window.famobi.menu.setHtml(n),SDK_INTERFACE_SETTINGS.menuless&&(window.famobi.menu.fgOverlay.style.display="none")},show:function(){if(window.famobi.menu.fgOverlay_visible)return window.famobi.menu;window.famobi.menu.fgNavigation.querySelector(".fa-menu-button-leaderboard img")&&(window.famobi.menu.fgNavigation.querySelector(".fa-menu-button-leaderboard img").style.animation="growAndShake 1s linear 1s 1 forwards",setTimeout((()=>window.famobi.menu.fgNavigation.querySelector(".fa-menu-button-leaderboard img").style.animation="none"),2e3));var e=faZepto("#fg-overlay .fa-menu-button-fullscreen");return this.hideAll(),window.famobi.menu.eventHandler=window.famobi.menu.handleClick(faZepto("html").get(0),this.hideAll),faZepto("html").get(0).style.cursor="pointer",document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?e.removeClass("fa-fullscreen-disabled").addClass("fa-fullscreen-enabled"):e.removeClass("fa-fullscreen-enabled").addClass("fa-fullscreen-disabled"),window.famobi.menu.fgOverlay_visible=!0,faZepto(window.famobi.menu.fgOverlay).addClass("navigation-view"),window.famobi.menu.fgNavigation.style.display="",window.famobi.menu},hide:function(){return hideAll()},hideAll:function(){return window.famobi.menu.fgOverlay_visible?(window.famobi.menu.eventHandler&&window.famobi.menu.removeClick(faZepto("html").get(0),window.famobi.menu.eventHandler),faZepto(window.famobi.menu.fgOverlay).removeClass("iframe-view navigation-view fa-lang-shown"),window.famobi.menu.fgOverlay_visible=!1,window.famobi.menu):window.famobi.menu},handleClick:function(e,t){var n=function(e){return t.call(this,e),e.cancelBubble=!0,e.stopPropagation(),!1};return"function"==typeof t&&(window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",n,!1):window.PointerEvent?(e.addEventListener("pointerup",n,!1),e.addEventListener("pointermove",this.eventTrap,!0),e.addEventListener("pointerdown",this.eventTrap,!0)):detection.is.touch?(e.addEventListener("touchend",n,!1),e.addEventListener("touchmove",this.eventTrap,!0),e.addEventListener("touchstart",this.eventTrap,!0)):e.addEventListener("click",n,!1),e.style.cursor="pointer"),n},removeClick:function(e,t){return"function"==typeof t&&(window.navigator.msPointerEnabled?e.removeEventListener("MSPointerDown",t,!1):window.PointerEvent?(e.removeEventListener("pointerup",t,!1),e.removeEventListener("pointermove",this.eventTrap,!0),e.removeEventListener("pointerdown",this.eventTrap,!0)):detection.is.touch?(e.removeEventListener("touchend",t,!1),e.removeEventListener("touchmove",this.eventTrap,!0),e.removeEventListener("touchstart",this.eventTrap,!0)):e.removeEventListener("click",t,!1)),e},eventTrap:function(e){e.preventDefault(),e.cancelBubble=!0,e.stopPropagation()},toggleOverlay:function(e){return window.famobi.menu.fgOverlay_visible?window.famobi.menu.hideAll():window.famobi.menu.show(),e.stopPropagation(),!1},setHtml:function(e){window.famobi.menu.fgNavigation.innerHTML=e,window.famobi.menu.bindEvents()},toggleLanguages:function(){var e=faZepto(window.famobi.menu.fgOverlay);e.hasClass("fa-lang-shown")?e.removeClass("fa-lang-shown"):e.addClass("fa-lang-shown")},switchLanguage:function(e){var t,n=window.famobi.getUrlParams();window.famobi.menu.hideAll(),n.locale=e,t=faZepto.param(n),document.location.replace(document.location.pathname+"?"+t+(document.location.hash?document.location.hash:""))},bindEvents:function(){faZepto("[data-switch-lang]").each((function(){var e=faZepto(this),t=faZepto(this).attr("data-switch-lang");e.removeClass("fg-lang-selected"),t===window.famobi.gametranslation.curLangString&&(e.closest("ul").prepend(e),e.addClass("fg-lang-selected")),window.famobi.menu.handleClick(this,(function(){!0===e.hasClass("fg-lang-selected")?window.famobi.menu.toggleLanguages():t.length&&window.famobi.menu.switchLanguage(t)}))})),faZepto("[data-famobi-href]").css("cursor","pointer").each((function(){window.famobi.menu.handleClick(this,function(){var e=faZepto(this).attr("data-famobi-href");switch(window.famobi.menu.hideAll(),e){case"moreGames":return window.famobi.menu.moreGamesLink();case"back":return window.famobi.menu.backLink();case"leaderboard":return window.famobi.showLeaderboard();default:if(this.href)return window.open(this.href,""),!1}}.bind(this))}))}},getMoreGamesButtonImage:function(){return this.brandingLogo?this.brandingLogo.src:"html5games/images/"+(this.config.more_games_button_image||"logo")+".png"},getBrandingButtonImage:function(){return this.brandingLogo?this.brandingLogo.src:"html5games/images/"+(this.config.branding_button_image||this.config.more_games_button_image||"logo")+".png"},moreGamesLink:function(){var e;(e=this.config.more_games_url)&&(window.open(e,"")||(window.top.location.href=e))},openBrandingLink:function(){this.moreGamesLink()},sessionStorage:{setItem:function(e,t){try{window.sessionStorage.setItem(window.gameID+":"+e,t)}catch(e){window.famobi.config.logging}},getItem:function(e){try{return window.sessionStorage.getItem(window.gameID+":"+e)}catch(e){window.famobi.config.logging}return null},removeItem:function(e){try{window.sessionStorage.removeItem(window.gameID+":"+e)}catch(e){window.famobi.config.logging}},clear:function(){try{for(var e in window.sessionStorage)e.startsWith(window.gameID+":")&&window.sessionStorage.removeItem(e)}catch(e){window.famobi.config.logging}}},localStorage:{setItem:function(e,t){try{window.localStorage.setItem(window.gameID+":"+e,t)}catch(e){window.famobi.config.logging}},getItem:function(e){try{return window.localStorage.getItem(window.gameID+":"+e)}catch(e){window.famobi.config.logging}return null},removeItem:function(e){try{window.localStorage.removeItem(window.gameID+":"+e)}catch(e){window.famobi.config.logging}},clear:function(){try{for(var e in window.localStorage)e.startsWith(window.gameID+":")&&window.localStorage.removeItem(e)}catch(e){window.famobi.config.logging}}},log:function(){!this.config||this.config.logging},warn:function(){!this.config||this.config.logging},orientation:{init:function(){this.rootElement=document.getElementById("fg-root"),this.update(window.famobi.config.gameParams.orientation)},update:function(e){return void 0!==e&&(window.famobi.config.rotation||!1!==window.famobi.config.rotation&&!detection.is.pc&&!detection.is.tablet)&&window.screen&&window.screen.height!==window.screen.width&&(this.rootElement.className=this.rootElement.className+" fg-orientation-"+e,void 0===this.fgLandscapeOverlay&&(this.fgLandscapeOverlay=document.createElement("div"),this.fgLandscapeOverlay.setAttribute("id","fg-landscape-overlay"),this.fgLandscapeImage=document.createElement("img"),this.fgLandscapeImage.setAttribute("src","html5games/images/RotateToLandscape.png"),this.fgLandscapeImage.setAttribute("class","fg-orientation-icon"),this.fgLandscapeImage.setAttribute("alt","switch to landscape"),this.fgLandscapeOverlay.appendChild(this.fgLandscapeImage),this.rootElement.appendChild(this.fgLandscapeOverlay)),void 0===this.fgPortraitOverlay&&(this.fgPortraitOverlay=document.createElement("div"),this.fgPortraitOverlay.setAttribute("id","fg-portrait-overlay"),this.fgPortraitImage=document.createElement("img"),this.fgPortraitImage.setAttribute("src","html5games/images/RotateToPortrait.png"),this.fgPortraitImage.setAttribute("class","fg-orientation-icon"),this.fgPortraitImage.setAttribute("alt","switch to portrait"),this.fgPortraitOverlay.appendChild(this.fgPortraitImage),this.rootElement.appendChild(this.fgPortraitOverlay))),this}},sizeOf:function(e){var t,n=0;if(!e)return n;if(void 0!==e.length)return e.length;if(Object.keys)n=Object.keys(e).length;else for(t in e)e.hasOwnProperty(t)&&n++;return n},getOrientation:function(){var e=window.matchMedia("all and (orientation:landscape)");return e&&!0===e.matches?"landscape":"portrait"},onOrientationChange:function(e){return this.orientationChangeCallback=e,"function"!=typeof e&&this.error("famobi.onorientationchange: no valid callback provided."),faZepto(window).resize(e)},submitHighscore:function(e,t,n){!n&&this.warn("famobi.submitHighscore is deprecated, please use famobi_analytics.trackEvent('EVENT_LEVELSCORE')instead: https://sites.google.com/a/famobi.com/api-docs/api-implementation/famobi-analytics")},levelUp:function(){this.warn("famobi.levelUp is deprecated, please use famobi_analytics.trackEvent('EVENT_LEVELSUCCESS') instead: https://sites.google.com/a/famobi.com/api-docs/api-implementation/famobi-analytics")},gameOver:function(){this.warn("famobi.gameOver is deprecated, please use famobi_analytics.trackEvent('EVENT_LEVELFAIL') instead: https://sites.google.com/a/famobi.com/api-docs/api-implementation/famobi-analytics")},includeCSS:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,t.appendChild(n)},sendLiveScore:function(e){},hasRewardedAd:function(){return this.hasFeature("rewarded")},hasFeature:function(e){return"local"==e&&(e="standalone"),e in this.config.features&&!!this.config.features[e]},getAppLink:function(){return""},getUrlParams:function(e,t,n){e=/[?&]?([^=]+)=([^&]*)/g,t=document.location&&document.location.search?document.location.search.split("+").join(" "):"";for(var i={};n=e.exec(t);)i[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return i.fg_aid?this.config.aid=i.fg_aid:i.fg_aid=this.config.aid,i},showLeaderboard:function(){window.famobi.hasFeature("highscores")},game:{waitingCounter:0,setWaiting:function(e){return e?this.waitingCounter++:this.waitingCounter>0?this.waitingCounter--:this.waitingCounter=0,this},isWaiting:function(){return this.waitingCounter>0},canResume:function(){return 1===this.waitingCounter},init:function(){this.waitingCounter=0},pause:function(){if(this.isWaiting())return this.setWaiting(!0),!1;this.setWaiting(!0);try{if("function"==typeof window.famobi_onPauseRequested)return window.famobi_onPauseRequested(),!0;if(window.game&&void 0!==window.game.paused)return window.game.paused=!0,!0;if(void 0!==window.cr_setSuspended)return cr_setSuspended(!0),!0;window.createjs}catch(e){window.famobi.log("Pausing game failed: "+e)}},resume:function(){if(!this.isWaiting())return!1;if(!this.canResume())return this.setWaiting(!1),!1;this.setWaiting(!1);try{if("function"==typeof window.famobi_onResumeRequested)return window.famobi_onResumeRequested(),!0;if(window.game&&void 0!==window.game.paused)return window.game.paused=!1,!0;if(void 0!==window.cr_setSuspended)return cr_setSuspended(!1),!0;window.createjs}catch(e){window.famobi.log("Resuming game failed: "+e)}return!1}},translateHtml:function(){return this.gametranslation.translateHtml.apply(this,arguments)},setPreloadProgress:function(e){this.config.logging},gameReady:function(){this.adapters.run("game","ready"),this.log("Received gameReady signal")},playerReady:function(){this.adapters.run("player","ready"),this.log("Received playerReady signal")},setVolume:function(e){this.volume=Math.max(0,Math.min(1,e)),this.volume,this.adapters.run("request","changeVolume",this.volume)},getVolume:function(){return this.volume},getFeatureProperties:function(e){return this.hasFeature(e)&&"object"==typeof this.config.features[e]?this.config.features[e]:{}},adaptersModule:function(){var e,t=this;function n(){this.adapters={ads:{show:this.createAdapter(),rewarded:this.createAdapter(),callback:this.createAdapter(),vastUrl:this.createAdapter()},adEvent:{loaded:this.createAdapter(),displayed:this.createAdapter(),errored:this.createAdapter(),userClosed:this.createAdapter(),completed:this.createAdapter()},analytics:{trackEvent:this.createAdapter(),trackScreen:this.createAdapter(),trackStats:this.createAdapter()},api:{created:this.createAdapter({queueCalls:!0,runOnce:!0})},game:{loaded:this.createAdapter({queueCalls:!0,runOnce:!0}),gameOver:this.createAdapter(),levelUp:this.createAdapter(),preloadProgress:this.createAdapter(),preloadComplete:this.createAdapter({queueCalls:!0,runOnce:!0}),ready:this.createAdapter({queueCalls:!0,runOnce:!0})},player:{ready:this.createAdapter({queueCalls:!0,runOnce:!0})},highscore:{show:this.createAdapter(),submit:this.createAdapter()},screenshot:{submit:this.createAdapter()},request:{startGame:this.createAdapter({queueCalls:!0,runOnce:!0}),stopGame:this.createAdapter(),restartGame:this.createAdapter(),pauseGameplay:this.createAdapter(),resumeGameplay:this.createAdapter(),enableAudio:this.createAdapter(),disableAudio:this.createAdapter(),enableMusic:this.createAdapter(),disableMusic:this.createAdapter(),changeVolume:this.createAdapter()},viewport:{orientationChanged:this.createAdapter({queueCalls:!0,queueLength:1,runOnce:!1}),offsetChanged:this.createAdapter({queueCalls:!0,queueLength:1,runOnce:!1})}},this.adapter_templates={ads:{show:[function(e,t){}],rewarded:[function(e){}],callback:[function(e){}],vastUrl:[function(){}]},adEvent:{loaded:[function(e){}],displayed:[function(){}],errored:[function(e){}],userClosed:[function(e){}],completed:[function(e){}]},analytics:{trackEvent:[function(e,t){}],trackScreen:[function(e,t){}],trackStats:[function(e,t){}]},api:{created:[function(e){}]},game:{loaded:[function(){}],gameOver:[function(){}],levelUp:[function(){}],preloadProgress:[function(){}],preloadComplete:[function(){}],ready:[function(){}]},highscore:{show:[function(e){}],submit:[function(e,t){}]},screenshot:{submit:[function(e,t){}]},request:{startGame:[function(){}],stopGame:[function(){}],restartGame:[function(){}],pauseGameplay:[function(){}],resumeGameplay:[function(){}],enableAudio:[function(){}],disableAudio:[function(){}],enableMusic:[function(){}],disableMusic:[function(){}],changeVolume:[function(e){}]},player:{ready:[function(){}]}}}var i=n.prototype;return i.createAdapter=function(e){return{callbacks:[],queueCalls:!(!e||!e.queueCalls),queue:[],runOnce:!(!e||!e.runOnce),numRuns:0}},i.init=function(){var e="",t="";if(void 0!==window.famobi_adapters)for(e in window.famobi_adapters)for(t in window.famobi_adapters[e])this.add(e,t,window.famobi_adapters[e][t])},i.list=function(){return this.adapters},i.add=function(e,n,i){if(!(e in this.adapters)||!(n in this.adapters[e]))return t.log("adapters.add: invalid (sub-)section"),this;if("function"!=typeof i)return t.log("adapters.add: invalid callback"),this;var a=this.adapters[e][n];return"object"==typeof a&&Array.isArray(a.callbacks)?(a.callbacks.push(i),a.queueCalls&&a.queue.length>0&&a.queue.forEach((function(e){try{i.apply(this,e)}catch(e){}}),this),this):(t.log("adapters.add: broken adapter object for",e,n),this)},i.has=function(e,t){return e in this.adapters&&t in this.adapters[e]&&"object"==typeof this.adapters[e][t]&&Array.isArray(this.adapters[e][t].callbacks)&&this.adapters[e][t].callbacks.length>0},i.run=function(e,t){var n=arguments?Array.prototype.slice.call(arguments,2):[];if(!(e in this.adapters)||!(t in this.adapters[e])||"object"!=typeof this.adapters[e][t])return!1;var i=this.adapters[e][t];return!(i.runOnce&&i.numRuns>0)&&(i.numRuns+=1,i.queueCalls&&i.queue.push(n),i.callbacks.length>0&&(i.callbacks.forEach((function(e){try{e.apply(this,n)}catch(e){}}),this),!0))},(e=new n).init(),e},requestsModule:function(){var e,t=this;function n(){this.adapterSection="requests",this.legitActionIdentifiers=["startGame","stopGame","restartGame","pauseGameplay","resumeGameplay","enableAudio","enableMusic","disableAudio","disableMusic","changeVolume"]}var i=n.prototype;return i.init=function(){},i.isAction=function(t){return"string"==typeof t&&e.legitActionIdentifiers.indexOf(t)>-1},i.onRequest=function(n,i){t.adapters&&e.isAction(n)&&"function"==typeof i&&t.adapters.add("request",n,i)},i.requestAction=function(n){t.adapters&&e.isAction(n)&&t.adapters.run.apply(t.adapters,["request"].concat(Array.from(arguments)))},(e=new n).init(),e},onRequest:function(e,t){this.requests&&this.requests.onRequest(e,t)},requestAction:function(){this.requests&&this.requests.requestAction.apply(this,arguments)},getOffsets:function(){return this.offsets},setOffsets:function(e=0,t=0,n=0,i=0){"object"==typeof e?(this.offsets.top=e.top||0,this.offsets.right=e.right||0,this.offsets.bottom=e.bottom||0,this.offsets.left=e.left||0):(this.offsets.top=e,this.offsets.right=t,this.offsets.bottom=n,this.offsets.left=i),window.famobi.adapters.run("viewport","offsetChanged",this.offsets)},onOffsetChange:function(e){this.onOffsetChangeCallback=e},getConsentStatus:function(e){return!0}};t.famobi=n}(0,window);var isPageReady=new Promise((function(e,t){/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1)}));Promise.all([loadScript("sdk_interface.js"),isPageReady]).then((function(){return"undefined"!=typeof SDK_INTERFACE&&"undefined"!==SDK_INTERFACE.isSDKInterfaceDone?new Promise(((e,t)=>{let n=setInterval((function(){!0===SDK_INTERFACE.isSDKInterfaceDone&&(clearInterval(n),e())}),500)})):Promise.resolve()})).then((function(){return window.famobi.adapters=window.famobi.adaptersModule.call(window.famobi),window.famobi.requests=window.famobi.requestsModule.call(window.famobi),window.famobi.init()})).then((function(){return window.famobi.hasOwnProperty("adapters")&&window.famobi.adapters.run("api","created",famobi),Promise.resolve()})).then((function(){Promise.all(window.famobi.config.ads&&window.famobi.config.ads.show_initial?[window.famobi.showInterstitialAd("preroll")]:[]).then((function(){setTimeout((function(){!function e(){if(!window.gameJS.length)return window.famobi.gametranslation.init(),window.famobi.menu.create(),window.famobi.orientation.init(),void window.setTimeout((function(){var e=document.createEvent("Events");e.initEvent("deviceready",!0,!1),document.dispatchEvent(e)}),50);var t=window.gameJS.shift();if("function"==typeof t)"undefined"!=typeof Zepto&&void 0===window.faZepto&&(window.faZepto=Zepto,Zepto.getScript=function(e,t,n){var i=document.createElement("script");i.async="async",i.src=e,t&&(i.onload=t),n&&(i.onerror=n),document.getElementsByTagName("head")[0].appendChild(i)}),t instanceof Promise?t().then((function(){e()})):(t(),e());else{var n=document.createElement("script"),i=t.match(/(\{(.*?)\})/);n.onload=e,n.onerror=e,n.src=i?window.famobi.__(i[2]):t,document.body.appendChild(n)}}()}),window.famobi.config.nextTimeout||0)}))}))}